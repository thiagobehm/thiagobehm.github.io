!function(t,e,i){"use strict";function G(i){if(s=e.documentElement,l=e.body,q(),wt=this,i=i||{},St=i.constants||{},i.easing)for(var n in i.easing)Q[n]=i.easing[n];Lt=i.edgeStrategy||"set",kt={beforerender:i.beforerender,render:i.render,keyframe:i.keyframe},Ct=i.forceHeight!==!1,Ct&&(xt=i.scale||1),It=i.mobileDeceleration||k,Mt=i.smoothScrolling!==!1,Ft=i.smoothScrollingDuration||E,Bt={targetTop:wt.getScrollTop()},Ht=(i.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||t.opera)})(),Ht?(Tt=e.getElementById(i.skrollrBody||C),Tt&&ot(),K(),vt(s,[m,w],[y])):vt(s,[m,b],[y]),wt.refresh(),st(t,"resize orientationchange",function(){var t=s.clientWidth,e=s.clientHeight;(e!==jt||t!==Ot)&&(jt=e,Ot=t,Rt=!0)});var a=V();return function r(){J(),zt=a(r)}(),wt}var s,l,n={get:function(){return wt},init:function(t){return wt||new G(t)},VERSION:"0.6.29"},a=Object.prototype.hasOwnProperty,r=t.Math,o=t.getComputedStyle,f="touchstart",c="touchmove",u="touchcancel",d="touchend",h="skrollable",p=h+"-before",v=h+"-between",g=h+"-after",m="skrollr",y="no-"+m,b=m+"-desktop",w=m+"-mobile",$="linear",T=1e3,k=.004,C="skrollr-body",E=200,x="start",S="end",I="center",A="bottom",D="___skrollable_id",N=/^(?:input|textarea|button|select)$/i,O=/^\s+|\s+$/g,j=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,R=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,P=/^(@?[a-z\-]+)\[(\w+)\]$/,M=/-([a-z0-9_])/g,F=function(t,e){return e.toUpperCase()},B=/[\-+]?[\d]*\.?[\d]+/g,U=/\{\?\}/g,W=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,L=/[a-z\-]+-gradient/g,H="",_="",q=function(){var t=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(o){var e=o(l,null);for(var i in e)if(H=i.match(t)||+i==i&&e[i].match(t))break;if(!H)return void(H=_="");H=H[0],"-"===H.slice(0,1)?(_=H,H={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[H]):_="-"+H.toLowerCase()+"-"}},V=function(){var e=t.requestAnimationFrame||t[H.toLowerCase()+"RequestAnimationFrame"],i=yt();return(Ht||!e)&&(e=function(e){var n=yt()-i,a=r.max(0,1e3/60-n);return t.setTimeout(function(){i=yt(),e()},a)}),e},z=function(){var e=t.cancelAnimationFrame||t[H.toLowerCase()+"CancelAnimationFrame"];return(Ht||!e)&&(e=function(e){return t.clearTimeout(e)}),e},Q={begin:function(){return 0},end:function(){return 1},linear:function(t){return t},quadratic:function(t){return t*t},cubic:function(t){return t*t*t},swing:function(t){return-r.cos(t*r.PI)/2+.5},sqrt:function(t){return r.sqrt(t)},outCubic:function(t){return r.pow(t-1,3)+1},bounce:function(t){var e;if(.5083>=t)e=3;else if(.8489>=t)e=9;else if(.96208>=t)e=27;else{if(!(.99981>=t))return 1;e=91}return 1-r.abs(3*r.cos(t*e*1.028)/e)}};G.prototype.refresh=function(t){var n,a,r=!1;for(t===i?(r=!0,$t=[],Wt=0,t=e.getElementsByTagName("*")):t.length===i&&(t=[t]),n=0,a=t.length;a>n;n++){var o=t[n],s=o,l=[],f=Mt,c=Lt,u=!1;if(r&&D in o&&delete o[D],o.attributes){for(var d=0,p=o.attributes.length;p>d;d++){var v=o.attributes[d];if("data-anchor-target"!==v.name)if("data-smooth-scrolling"!==v.name)if("data-edge-strategy"!==v.name)if("data-emit-events"!==v.name){var g=v.name.match(j);if(null!==g){var m={props:v.value,element:o,eventType:v.name.replace(M,F)};l.push(m);var y=g[1];y&&(m.constant=y.substr(1));var b=g[2];/p$/.test(b)?(m.isPercentage=!0,m.offset=(0|b.slice(0,-1))/100):m.offset=0|b;var w=g[3],$=g[4]||w;w&&w!==x&&w!==S?(m.mode="relative",m.anchors=[w,$]):(m.mode="absolute",w===S?m.isEnd=!0:m.isPercentage||(m.offset=m.offset*xt))}}else u=!0;else c=v.value;else f="off"!==v.value;else if(s=e.querySelector(v.value),null===s)throw'Unable to find anchor target "'+v.value+'"'}if(l.length){var T,k,C;!r&&D in o?(C=o[D],T=$t[C].styleAttr,k=$t[C].classAttr):(C=o[D]=Wt++,T=o.style.cssText,k=pt(o)),$t[C]={element:o,styleAttr:T,classAttr:k,anchorTarget:s,keyFrames:l,smoothScrolling:f,edgeStrategy:c,emitEvents:u,lastFrameIndex:-1},vt(o,[h],[])}}}for(ut(),n=0,a=t.length;a>n;n++){var E=$t[t[n][D]];E!==i&&(X(E),et(E))}return wt},G.prototype.relativeToAbsolute=function(t,e,i){var n=s.clientHeight,a=t.getBoundingClientRect(),r=a.top,o=a.bottom-a.top;return e===A?r-=n:e===I&&(r-=n/2),i===A?r+=o:i===I&&(r+=o/2),r+=wt.getScrollTop(),r+.5|0},G.prototype.animateTo=function(t,e){e=e||{};var n=yt(),a=wt.getScrollTop(),r=e.duration===i?T:e.duration;return Pt={startTop:a,topDiff:t-a,targetTop:t,duration:r,startTime:n,endTime:n+r,easing:Q[e.easing||$],done:e.done},Pt.topDiff||(Pt.done&&Pt.done.call(wt,!1),Pt=i),wt},G.prototype.stopAnimateTo=function(){Pt&&Pt.done&&Pt.done.call(wt,!0),Pt=i},G.prototype.isAnimatingTo=function(){return!!Pt},G.prototype.isMobile=function(){return Ht},G.prototype.setScrollTop=function(e,i){return Ut=i===!0,Ht?_t=r.min(r.max(e,0),Et):t.scrollTo(0,e),wt},G.prototype.getScrollTop=function(){return Ht?_t:t.pageYOffset||s.scrollTop||l.scrollTop||0},G.prototype.getMaxScrollTop=function(){return Et},G.prototype.on=function(t,e){return kt[t]=e,wt},G.prototype.off=function(t){return delete kt[t],wt},G.prototype.destroy=function(){var t=z();t(zt),ft(),vt(s,[y],[m,b,w]);for(var e=0,a=$t.length;a>e;e++)rt($t[e].element);s.style.overflow=l.style.overflow="",s.style.height=l.style.height="",Tt&&n.setStyle(Tt,"transform","none"),wt=i,Tt=i,kt=i,Ct=i,Et=0,xt=1,St=i,It=i,At="down",Dt=-1,Ot=0,jt=0,Rt=!1,Pt=i,Mt=i,Ft=i,Bt=i,Ut=i,Wt=0,Lt=i,Ht=!1,_t=0,qt=i};var K=function(){var n,a,o,h,p,v,g,m,y,b,w,$;st(s,[f,c,u,d].join(" "),function(t){var s=t.changedTouches[0];for(h=t.target;3===h.nodeType;)h=h.parentNode;switch(p=s.clientY,v=s.clientX,b=t.timeStamp,N.test(h.tagName)||t.preventDefault(),t.type){case f:n&&n.blur(),wt.stopAnimateTo(),n=h,a=g=p,o=v,y=b;break;case c:N.test(h.tagName)&&e.activeElement!==h&&t.preventDefault(),m=p-g,$=b-w,wt.setScrollTop(_t-m,!0),g=p,w=b;break;default:case u:case d:var l=a-p,T=o-v,k=T*T+l*l;if(49>k){if(!N.test(n.tagName)){n.focus();var C=e.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,t.view,1,s.screenX,s.screenY,s.clientX,s.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),n.dispatchEvent(C)}return}n=i;var E=m/$;E=r.max(r.min(E,3),-3);var x=r.abs(E/It),S=E*x+.5*It*x*x,I=wt.getScrollTop()-S,A=0;I>Et?(A=(Et-I)/S,I=Et):0>I&&(A=-I/S,I=0),x*=1-A,wt.animateTo(I+.5|0,{easing:"outCubic",duration:x})}}),t.scrollTo(0,0),s.style.overflow=l.style.overflow="hidden"},Z=function(){var i,n,a,o,l,f,c,u,d,h,p,t=s.clientHeight,e=dt();for(u=0,d=$t.length;d>u;u++)for(i=$t[u],n=i.element,a=i.anchorTarget,o=i.keyFrames,l=0,f=o.length;f>l;l++)c=o[l],h=c.offset,p=e[c.constant]||0,c.frame=h,c.isPercentage&&(h*=t,c.frame=h),"relative"===c.mode&&(rt(n),c.frame=wt.relativeToAbsolute(a,c.anchors[0],c.anchors[1])-h,rt(n,!0)),c.frame+=p,Ct&&!c.isEnd&&c.frame>Et&&(Et=c.frame);for(Et=r.max(Et,ht()),u=0,d=$t.length;d>u;u++){for(i=$t[u],o=i.keyFrames,l=0,f=o.length;f>l;l++)c=o[l],p=e[c.constant]||0,c.isEnd&&(c.frame=Et-c.offset+p);i.keyFrames.sort(bt)}},Y=function(t,e){for(var i=0,r=$t.length;r>i;i++){var T,k,o=$t[i],s=o.element,l=o.smoothScrolling?t:e,f=o.keyFrames,c=f.length,u=f[0],d=f[f.length-1],m=l<u.frame,y=l>d.frame,b=m?u:d,w=o.emitEvents,$=o.lastFrameIndex;if(m||y){if(m&&-1===o.edge||y&&1===o.edge)continue;switch(m?(vt(s,[p],[g,v]),w&&$>-1&&(ct(s,u.eventType,At),o.lastFrameIndex=-1)):(vt(s,[g],[p,v]),w&&c>$&&(ct(s,d.eventType,At),o.lastFrameIndex=c)),o.edge=m?-1:1,o.edgeStrategy){case"reset":rt(s);continue;case"ease":l=b.frame;break;default:case"set":var C=b.props;for(T in C)a.call(C,T)&&(k=at(C[T].value),0===T.indexOf("@")?s.setAttribute(T.substr(1),k):n.setStyle(s,T,k));continue}}else 0!==o.edge&&(vt(s,[h,v],[p,g]),o.edge=0);for(var E=0;c-1>E;E++)if(l>=f[E].frame&&l<=f[E+1].frame){var x=f[E],S=f[E+1];for(T in x.props)if(a.call(x.props,T)){var I=(l-x.frame)/(S.frame-x.frame);I=x.props[T].easing(I),k=nt(x.props[T].value,S.props[T].value,I),k=at(k),0===T.indexOf("@")?s.setAttribute(T.substr(1),k):n.setStyle(s,T,k)}w&&$!==E&&("down"===At?ct(s,x.eventType,At):ct(s,S.eventType,At),o.lastFrameIndex=E);break}}},J=function(){Rt&&(Rt=!1,ut());var e,r,t=wt.getScrollTop(),a=yt();if(Pt)a>=Pt.endTime?(t=Pt.targetTop,e=Pt.done,Pt=i):(r=Pt.easing((a-Pt.startTime)/Pt.duration),t=Pt.startTop+r*Pt.topDiff|0),wt.setScrollTop(t,!0);else if(!Ut){var o=Bt.targetTop-t;o&&(Bt={startTop:Dt,topDiff:t-Dt,targetTop:t,startTime:Nt,endTime:Nt+Ft}),a<=Bt.endTime&&(r=Q.sqrt((a-Bt.startTime)/Ft),t=Bt.startTop+r*Bt.topDiff|0)}if(Ut||Dt!==t){At=t>Dt?"down":Dt>t?"up":At,Ut=!1;var s={curTop:t,lastTop:Dt,maxTop:Et,direction:At},l=kt.beforerender&&kt.beforerender.call(wt,s);l!==!1&&(Y(t,wt.getScrollTop()),Ht&&Tt&&n.setStyle(Tt,"transform","translate(0, "+-_t+"px) "+qt),Dt=t,kt.render&&kt.render.call(wt,s)),e&&e.call(wt,!1)}Nt=a},X=function(t){for(var e=0,i=t.keyFrames.length;i>e;e++){for(var a,r,o,l,n=t.keyFrames[e],s={};null!==(l=R.exec(n.props));)o=l[1],r=l[2],a=o.match(P),null!==a?(o=a[1],a=a[2]):a=$,r=r.indexOf("!")?tt(r):[r.slice(1)],s[o]={value:r,easing:Q[a]};n.props=s}},tt=function(t){var e=[];return W.lastIndex=0,t=t.replace(W,function(t){return t.replace(B,function(t){return t/255*100+"%"})}),_&&(L.lastIndex=0,t=t.replace(L,function(t){return _+t})),t=t.replace(B,function(t){return e.push(+t),"{?}"}),e.unshift(t),e},et=function(t){var i,n,e={};for(i=0,n=t.keyFrames.length;n>i;i++)it(t.keyFrames[i],e);for(e={},i=t.keyFrames.length-1;i>=0;i--)it(t.keyFrames[i],e)},it=function(t,e){var i;for(i in e)a.call(t.props,i)||(t.props[i]=e[i]);for(i in t.props)e[i]=t.props[i]},nt=function(t,e,i){var n,a=t.length;if(a!==e.length)throw"Can't interpolate between \""+t[0]+'" and "'+e[0]+'"';var r=[t[0]];for(n=1;a>n;n++)r[n]=t[n]+(e[n]-t[n])*i;return r},at=function(t){var e=1;return U.lastIndex=0,t[0].replace(U,function(){return t[e++]})},rt=function(t,e){t=[].concat(t);for(var i,n,a=0,r=t.length;r>a;a++)n=t[a],i=$t[n[D]],i&&(e?(n.style.cssText=i.dirtyStyleAttr,vt(n,i.dirtyClassAttr)):(i.dirtyStyleAttr=n.style.cssText,i.dirtyClassAttr=pt(n),n.style.cssText=i.styleAttr,vt(n,i.classAttr)))},ot=function(){qt="translateZ(0)",n.setStyle(Tt,"transform",qt);var t=o(Tt),e=t.getPropertyValue("transform"),i=t.getPropertyValue(_+"transform"),a=e&&"none"!==e||i&&"none"!==i;a||(qt="")};n.setStyle=function(t,e,i){var n=t.style;if(e=e.replace(M,F).replace("-",""),"zIndex"===e)isNaN(i)?n[e]=i:n[e]=""+(0|i);else if("float"===e)n.styleFloat=n.cssFloat=i;else try{H&&(n[H+e.slice(0,1).toUpperCase()+e.slice(1)]=i),n[e]=i}catch(a){}};var wt,$t,Tt,kt,Ct,St,It,Pt,Mt,Ft,Bt,Ut,Lt,qt,zt,st=n.addEvent=function(e,i,n){var a=function(e){return e=e||t.event,e.target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),n.call(this,e)};i=i.split(" ");for(var r,o=0,s=i.length;s>o;o++)r=i[o],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent("on"+r,a),Vt.push({element:e,name:r,listener:n})},lt=n.removeEvent=function(t,e,i){e=e.split(" ");for(var n=0,a=e.length;a>n;n++)t.removeEventListener?t.removeEventListener(e[n],i,!1):t.detachEvent("on"+e[n],i)},ft=function(){for(var t,e=0,i=Vt.length;i>e;e++)t=Vt[e],lt(t.element,t.name,t.listener);Vt=[]},ct=function(t,e,i){kt.keyframe&&kt.keyframe.call(wt,t,e,i)},ut=function(){var t=wt.getScrollTop();Et=0,Ct&&!Ht&&(l.style.height=""),Z(),Ct&&!Ht&&(l.style.height=Et+s.clientHeight+"px"),Ht?wt.setScrollTop(r.min(wt.getScrollTop(),Et)):wt.setScrollTop(t,!0),Ut=!0},dt=function(){var i,n,t=s.clientHeight,e={};for(i in St)n=St[i],"function"==typeof n?n=n.call(wt):/p$/.test(n)&&(n=n.slice(0,-1)/100*t),e[i]=n;return e},ht=function(){var e,t=0;return Tt&&(t=r.max(Tt.offsetHeight,Tt.scrollHeight)),e=r.max(t,l.scrollHeight,l.offsetHeight,s.scrollHeight,s.offsetHeight,s.clientHeight),e-s.clientHeight},pt=function(e){var i="className";return t.SVGElement&&e instanceof t.SVGElement&&(e=e[i],i="baseVal"),e[i]},vt=function(e,n,a){var r="className";if(t.SVGElement&&e instanceof t.SVGElement&&(e=e[r],r="baseVal"),a===i)return void(e[r]=n);for(var o=e[r],s=0,l=a.length;l>s;s++)o=mt(o).replace(mt(a[s])," ");o=gt(o);for(var f=0,c=n.length;c>f;f++)-1===mt(o).indexOf(mt(n[f]))&&(o+=" "+n[f]);e[r]=gt(o)},gt=function(t){return t.replace(O,"")},mt=function(t){return" "+t+" "},yt=Date.now||function(){return+new Date},bt=function(t,e){return t.frame-e.frame},Et=0,xt=1,At="down",Dt=-1,Nt=yt(),Ot=0,jt=0,Rt=!1,Wt=0,Ht=!1,_t=0,Vt=[];"function"==typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:t.skrollr=n}(window,document);